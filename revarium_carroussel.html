<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rêvarium</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
  <style>
    @font-face {
      font-family: 'AVANGMI';
      src: url('typo/AVANGMI.TTF') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'AVANGMI', sans-serif;
      background-color: #0c0c0c;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow-x: hidden;
      background: radial-gradient(ellipse at center, #151729 0%, #090a0f 100%);
    }

    .phone-container {
      position: relative;
      width: 360px;
      height: 780px;
      background: url('assets/fond3.png') no-repeat center;
      background-size: cover;
      border-radius: 40px;
      box-shadow: 0 0 50px rgba(0, 0, 0, 0.8), 0 0 20px rgba(139, 92, 246, 0.2);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }
    
    .phone-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(ellipse at top, rgba(13, 27, 42, 0.1) 0%, rgba(0, 0, 0, 0.1) 100%);
      z-index: 0;
    }

    .stars {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      opacity: 0;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.8),
                  0 0 20px rgba(255, 255, 255, 0.4);
      animation: twinkle 5s infinite;
    }

    @keyframes twinkle {
      0% {
        opacity: 0;
        transform: scale(0.8);
      }
      50% {
        opacity: 0.8;
        transform: scale(1);
      }
      100% {
        opacity: 0;
        transform: scale(0.8);
      }
    }

    .app-content {
        position: relative;
        height: 100%;
        width: 100%;
        padding: 120px 20px 24px;
        display: flex;
        flex-direction: column;
        z-index: 1;
        background: url('assets/fond2.png') no-repeat center;
        background-size: cover;
        backdrop-filter: blur(8px);
    }

    header {
        text-align: center;
        padding: 0.5rem 0.5rem 0.5rem;
        position: relative;
        animation: fadeIn 1.5s ease-out;
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 10px;
    }

  .orb-navigation {
    display: flex;
    justify-content: space-evenly;
    padding: 5px 0 15px;
    margin: 5px 0 15px;
  }
  
    .orb-item {
        width: 70px; /* ajuste si besoin (65-75px selon ton feeling visuel) */
        display: flex;
        flex-direction: column;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
    }  

    .orb-container {
        position: relative;
        width: 52px;
        height: 52px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 6px;
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        border-radius: 50%;
    }

    .orb-item img {
        width: 100%;
        height: 100%;
        object-fit: contain;
        transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), filter 0.4s ease;
        z-index: 2;
        filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    }

  .orb-label {
    color: #d8b4fe; /* même couleur que la signature */
    font-family: 'AVANGMI', sans-serif;
    font-size: 0.75rem;
    text-align: center;
    font-weight: 500;
    transition: color 0.3s ease;
  }

    .orb-glow {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(139, 92, 246, 0.4) 0%, rgba(139, 92, 246, 0) 70%);
        opacity: 0;
        transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        z-index: 1;
        box-shadow: 0 0 15px rgba(139, 92, 246, 0);
    }

    /* État actif */
    .orb-item.active .orb-glow {
        opacity: 1;
        transform: scale(1.2);
        animation: pulseGlow 3s infinite alternate;
    }

    .orb-item.active img {
        transform: scale(1.1);
        filter: brightness(1.2) drop-shadow(0 0 12px rgba(216, 180, 254, 0.8));
    }

    @keyframes pulseGlow {
        0% {
            transform: scale(1.2);
            opacity: 0.7;
            box-shadow: 0 0 15px rgba(139, 92, 246, 0.5);
        }
        100% {
            transform: scale(1.4);
            opacity: 0.4;
            box-shadow: 0 0 25px rgba(139, 92, 246, 0.7);
        }
    }


    .nav-tabs {
      display: flex;
      background: rgba(20, 20, 40, 0.6);
      border-radius: 20px;
      overflow: hidden;
      margin-bottom: 20px;
      padding: 2px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 12px 0;
      color: #e2e2f7;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
      position: relative;
      letter-spacing: 0.5px;
      font-size: 15px;
    }

    .tab.active {
      background: linear-gradient(135deg, #7e42e4, #b16cea);
      border-radius: 18px;
      color: white;
      font-family: 'AVANGMI', sans-serif;
      font-weight: normal;
      box-shadow: 0 4px 15px rgba(126, 66, 228, 0.5);
    }

    .tab:not(.active):hover {
      background: rgba(126, 66, 228, 0.2);
      border-radius: 18px;
    }

    .carousel-container {
        height: 380px; /* hauteur réduite */
        margin-top: 8px;
        margin-bottom: 8px;
        overflow: hidden;
        position: relative;
        border-radius: 24px;
    }

    .carousel {
      height: 100%;
      transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 0.2);
    }

    .dream-card {
      width: 100%;
      height: 100%;
      padding: 16px;
      padding-bottom: 8px
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      background: rgba(30, 16, 50, 0.4);
      border-radius: 24px;
      border: 3px solid rgba(255, 255, 255, 0.08);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(5px);
    }

    .dream-header {
      display: flex;
      justify-content: space-between;
      justify-content: center;
      align-items: center;
      margin-bottom: 12px;
    }

    .dream-title {
      background: linear-gradient(#e6c794, #f8ecd2, #d0b675, #e8d6a7);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-size: 20px;
      justify-content: center;
      align-items: center;
      font-weight: normal;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
      letter-spacing: 0.5px;
    }

    .dream-info {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      gap: 6px;
      margin-bottom: 15px;
    }

    /* Nouveaux styles pour les orbes */
    .dream-orbs {
      display: flex;
      gap: 5px;
      margin-bottom: 8px;
    }

    .dream-orb {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .dream-orb:hover {
      transform: scale(1.1);
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
    }

    /* Style mis à jour pour les tags combinés */
    .dream-tags {
      color: #d8b4fe; /* même couleur que la signature */
      padding: 6px 12px;
      font-size: 12px;
      backdrop-filter: blur(5px);
    }

    .dream-badge {
      background: linear-gradient(135deg, rgba(255, 123, 225, 0.5), rgba(255, 123, 225, 0.2));
      border-radius: 16px;
      padding: 6px 12px;
      font-size: 12px;
      color: white;
      display: flex;
      align-items: center;
      gap: 5px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(5px);
    }

     .dream-visualization {
        height: 220px;
        overflow: hidden;
        margin: 0 !important;
        margin-bottom: -20px
        padding: 0 !important;
        box-shadow: none;
    }

    .dream-video {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(1);
      animation: zoomLoop 6s ease-in-out infinite;
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
      opacity: 0.9;
    }

    .dream-animation {
      width: 100%;
      height: 100%;
      overflow: hidden;
      display: none; /* Caché car remplacé par la vidéo */
    }

    .dream-animation::before {
      content: '';
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, rgba(111, 55, 255, 0.2), rgba(217, 81, 255, 0.3));
      z-index: 1;
    }

    .play-button img {
      width: 98px !important;
      height: 98px !important;
      object-fit: contain;
    }


    .play-button {
      position: absolute;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      cursor: pointer;
      z-index: 2;
      transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    }

    .play-button:hover {
      transform: translate(-50%, -50%) scale(1.1);
      box-shadow: 0 0 30px rgba(138, 43, 226, 0.9),
                  0 0 60px rgba(138, 43, 226, 0.6);
    }

    .dream-footer {
       display: flex;
        justify-content: center;
        align-items: center;
        margin-top: -10px;
        padding-top: 0;        
    }

    .dream-interactions {
      display: flex;
      gap: 20px;
    }

        .interaction-button {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            align-items: center;
            gap: 12px;
            margin: 0 !important;
            padding: 0 !important;
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            font-size: 14px;
        }

    .interaction-button:hover {
      transform: scale(1.1);
    }

    .like-button {
      color: #FF6B6B;
      text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
    }

    .favorite-button {
      color: #FFD166;
      text-shadow: 0 0 10px rgba(255, 209, 102, 0.5);
    }

    .comment-button {
      color: #4ECDC4;
      text-shadow: 0 0 10px rgba(78, 205, 196, 0.5);
    }

    .refresh-button {
      background: linear-gradient(135deg, #7E6CCA, #f27ee5);
      color: white;
      border: none;
      border-radius: 24px;
      padding: 12px 20px;
      font-weight: normal;
      cursor: pointer;
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: center;
      margin: 15px auto 0;
      transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
      box-shadow: 0 4px 15px rgba(138, 43, 226, 0.4),
                  0 0 20px rgba(138, 43, 226, 0.2);
      letter-spacing: 0.5px;
      font-size: 14px;
    }

    .refresh-button:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 6px 20px rgba(138, 43, 226, 0.5),
                  0 0 30px rgba(138, 43, 226, 0.3);
    }

    .refresh-button:active {
      transform: translateY(1px) scale(0.98);
    }

    .refresh-button span:first-child {
      font-size: 16px;
    }

    .floating-elements {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 0;
      overflow: hidden;
    }

    .floating-element {
      position: absolute;
      background: radial-gradient(circle, rgba(138, 43, 226, 0.2) 0%, rgba(242, 126, 229, 0.1) 50%, transparent 70%);
      border-radius: 50%;
      filter: blur(8px);
      animation: float 20s infinite linear;
    }

    @keyframes float {
      0% {
        transform: translateY(100%) translateX(0) rotate(0deg) scale(1);
      }
      50% {
        transform: translateY(10%) translateX(20px) rotate(180deg) scale(1.2);
      }
      100% {
        transform: translateY(-100%) translateX(0) rotate(360deg) scale(1);
      }
    }

    /* Player modal */
    .player-modal {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(10, 11, 31, 0.85);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 100;
      backdrop-filter: blur(10px);
    }

    .player-content {
      width: 90%;
      background: linear-gradient(145deg, rgba(30, 16, 83, 0.9), rgba(46, 16, 83, 0.8));
      border-radius: 24px;
      padding: 24px;
      position: relative;
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4),
                  0 0 30px rgba(138, 43, 226, 0.3);
    }

    .close-button {
      position: absolute;
      top: 15px;
      right: 15px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      width: 30px;
      height: 30px;
      color: white;
      font-size: 20px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    .close-button:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
    }

    .player-title {
      background: linear-gradient(#e6c794, #f8ecd2, #d0b675, #e8d6a7);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-size: 20px;
      margin-bottom: 20px;
      padding-right: 25px;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
      letter-spacing: 0.5px;
    }

    .player-controls {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      margin-bottom: 20px;
    }

    .player-timeline {
      flex: 1;
      height: 6px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
      position: relative;
      margin: 0 12px;
      cursor: pointer;
      overflow: hidden;
    }

    .player-progress {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      background: linear-gradient(90deg, #8a2be2, #f27ee5);
      border-radius: 3px;
      width: 30%;
      box-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
    }

    .player-progress-handle {
      position: absolute;
      width: 16px;
      height: 16px;
      background: white;
      border-radius: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      left: 30%;
      box-shadow: 0 0 10px rgba(138, 43, 226, 0.7);
    }

    .player-time {
      color: white;
      font-size: 12px;
      opacity: 0.8;
    }

    .player-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 15px;
    }

    .player-button {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #7e42e4, #b16cea);
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
      box-shadow: 0 0 15px rgba(138, 43, 226, 0.5),
                  0 0 30px rgba(138, 43, 226, 0.3);
    }

    .player-button:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(138, 43, 226, 0.7),
                  0 0 40px rgba(138, 43, 226, 0.4);
    }

    .player-button.play::before {
      content: '';
      width: 0;
      height: 0;
      border-style: solid;
      border-width: 10px 0 10px 15px;
      border-color: transparent transparent transparent white;
      margin-left: 4px;
    }

    .player-button.pause::before,
    .player-button.pause::after {
      content: '';
      width: 4px;
      height: 16px;
      background: white;
      margin: 0 3px;
      border-radius: 2px;
    }

    .player-audio-wave {
      display: flex;
      justify-content: center;
      gap: 4px;
      margin-top: 15px;
    }

    .audio-bar {
      width: 3px;
      height: 20px;
      background: linear-gradient(to top, rgba(138, 43, 226, 0.3), rgba(242, 126, 229, 0.7));
      border-radius: 3px;
      animation: wave-animation 1.5s infinite ease-in-out;
    }

    @keyframes wave-animation {
      0%, 100% {
        height: 10px;
      }
      50% {
        height: 25px;
      }
    }

    .audio-bar:nth-child(2n) {
      animation-delay: 0.2s;
    }

    .audio-bar:nth-child(3n) {
      animation-delay: 0.4s;
    }

    .audio-bar:nth-child(4n) {
      animation-delay: 0.6s;
    }

    .audio-bar:nth-child(5n) {
      animation-delay: 0.8s;
    }

    .dream-card-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      color: rgba(255, 255, 255, 0.7);
      text-align: center;
      padding: 20px;
      font-size: 16px;
      letter-spacing: 0.5px;
    }

    .dream-cards-container {
      height: 100%;
      position: relative;
    }

    .pagination {
      display: flex;
      justify-content: center;
      margin-top: 15px;
      gap: 8px;
    }

    .page-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    }

    .page-dot.active {
      background: linear-gradient(135deg, #8a2be2, #f27ee5);
      transform: scale(1.3);
      box-shadow: 0 0 10px rgba(138, 43, 226, 0.5);
    }

    @keyframes zoomLoop {
        0%, 100% {
            transform: translate(-50%, -50%) scale(1);
        }
        50% {
            transform: translate(-50%, -50%) scale(1.10);
        }
    }

    /* Animations supplémentaires */
    @keyframes pulse {
      0% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.05);
        opacity: 0.8;
      }
      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .dream-card:nth-child(2n) {
      animation-delay: 2s;
    }

    .dream-card:nth-child(3n) {
      animation-delay: 4s;
    }
  </style>
</head>
<body>
  <div class="phone-container">
    <div class="stars"></div>
    <div class="floating-elements"></div>
    
    <div class="app-content">
      <header>
        <div class="orb-navigation">
                <div class="orb-item" data-section="Recherche" onclick="navigateOrbTo(this)">
                        <div class="orb-container">
                                <img src="assets/orbe_rechercher.png" alt="Recherche">
                                <div class="orb-glow"></div>
                        </div>
                        <span class="orb-label">Recherche</span>
                </div>
                <div class="orb-item" data-section="Rêve Aléatoire" onclick="navigateOrbTo(this)">
                        <div class="orb-container">
                                <img src="assets/orbe_reve_aleatoire.png" alt="Rêve Aléatoire">
                                <div class="orb-glow"></div>
                        </div>
                        <span class="orb-label">Aléatoire</span>
                </div>
        </div>
      <header>
      
      <div class="carousel-container">
        <div class="carousel">
          <div class="dream-cards-container active" id="recent-dreams">
            <!-- Dream Card 1 -->
            <div class="dream-card">
              <div class="dream-header">
                <div class="dream-title">Voyage dans les étoiles</div>
              </div>
              
              <div class="dream-info">
                  <div class="dream-orbs">
                      <img src="assets/orbE_1.png" class="dream-orb" alt="Orbe 1">
                      <img src="assets/orbE_4.png" class="dream-orb" alt="Orbe 4">
                      <img src="assets/orbE_10.png" class="dream-orb" alt="Orbe 10">
                  </div>
                  <div class="dream-tags">#espace #voyage #étoiles</div>
              </div>
              
              <div class="dream-visualization">
                <video class="dream-video" autoplay loop muted playsinline>
                  <source src="assets/bulle_aile_grimoire.webm" type="video/webm">
                </video>
                <div class="dream-animation">
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                </div>
                <div class="play-button" data-dream="Voyage dans les étoiles">
                  <img src="assets/play.png" alt="play" width="48" height="48" />
                </div>
              </div>
              
              <div class="dream-footer">
                <div class="dream-interactions">
                  <button class="interaction-button like-button">
                    <img src="assets/icon_like.png" alt="like" width="18" height="18" />
                    <span>24</span>
                  </button>

                  <button class="interaction-button favorite-button">
                    <img src="assets/icon_star_favoris.png" alt="favoris" width="18" height="18" />
                    <span>8</span>
                  </button>

                  <button class="interaction-button comment-button">
                    <img src="assets/icon_comment.png" alt="commentaire" width="18" height="18" />
                    <span>12</span>
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Dream Card 2 -->
            <div class="dream-card">
              <div class="dream-header">
                <div class="dream-title">Forêt enchantée</div>
              </div>
              
              <div class="dream-info">
                <div class="dream-mood">🌱 Espoir</div>
                <div class="dream-badge">✨ Féérique</div>
                <div class="dream-tag">nature</div>
                <div class="dream-tag">forêt</div>
                <div class="dream-tag">magie</div>
              </div>
              
              <div class="dream-visualization">
                <video class="dream-video" autoplay loop muted playsinline>
                  <source src="assets/bulle_aile_grimoire.webm" type="video/webm">
                </video>
                <div class="dream-animation">
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                </div>
                <div class="play-button" data-dream="Forêt enchantée"></div>
              </div>
              
              <div class="dream-footer">
                <div class="dream-interactions">
                  <button class="interaction-button like-button">
                    <span>❤️</span>
                    <span>18</span>
                  </button>
                  <button class="interaction-button favorite-button">
                    <span>⭐</span>
                    <span>5</span>
                  </button>
                  <button class="interaction-button comment-button">
                    <span>💬</span>
                    <span>7</span>
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Dream Card 3 -->
            <div class="dream-card">
              <div class="dream-header">
                <div class="dream-title">Abysses lumineux</div>
              </div>
              
              <div class="dream-info">
                <div class="dream-mood">😨 Peur</div>
                <div class="dream-mood">🧐 Curieux</div>
                <div class="dream-badge">👁️ Visionnaire</div>
                <div class="dream-tag">océan</div>
                <div class="dream-tag">profondeur</div>
                <div class="dream-tag">lumière</div>
              </div>
              
              <div class="dream-visualization">
                <video class="dream-video" autoplay loop muted playsinline>
                  <source src="assets/bulle_aile_grimoire.webm" type="video/webm">
                </video>
                <div class="dream-animation">
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                </div>
                <div class="play-button" data-dream="Abysses lumineux"></div>
              </div>
              
              <div class="dream-footer">
                <div class="dream-interactions">
                  <button class="interaction-button like-button">
                    <span>❤️</span>
                    <span>32</span>
                  </button>
                  <button class="interaction-button favorite-button">
                    <span>⭐</span>
                    <span>14</span>
                  </button>
                  <button class="interaction-button comment-button">
                    <span>💬</span>
                    <span>23</span>
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Dream Card 4 -->
            <div class="dream-card">
              <div class="dream-header">
                <div class="dream-title">Portail temporel</div>
              </div>
              
              <div class="dream-info">
                <div class="dream-mood">😴 Rêveur</div>
                <div class="dream-badge">🔑 Symbolique</div>
                <div class="dream-tag">temps</div>
                <div class="dream-tag">passé</div>
                <div class="dream-tag">portail</div>
              </div>
              
              <div class="dream-visualization">
                <video class="dream-video" autoplay loop muted playsinline
                  <source src="assets/bulle_aile_grimoire.webm" type="video/webm">
                </video>
                <div class="dream-animation">
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                </div>
                <div class="play-button" data-dream="Portail temporel"></div>
              </div>
              
              <div class="dream-footer">
                <div class="dream-interactions">
                  <button class="interaction-button like-button">
                    <span>❤️</span>
                    <span>15</span>
                  </button>
                  <button class="interaction-button favorite-button">
                    <span>⭐</span>
                    <span>6</span>
                  </button>
                  <button class="interaction-button comment-button">
                    <span>💬</span>
                    <span>9</span>
                  </button>
                </div>
              </div>
            </div>
            
            <!-- Dream Card 5 -->
            <div class="dream-card">
              <div class="dream-header">
                <div class="dream-title">Envol céleste</div>
              </div>
              
              <div class="dream-info">
                <div class="dream-mood">😊 Joie</div>
                <div class="dream-mood">🎉 Enthousiasme</div>
                <div class="dream-badge">💫 Inspirant</div>
                <div class="dream-tag">ciel</div>
                <div class="dream-tag">voler</div>
                <div class="dream-tag">liberté</div>
              </div>
              
              <div class="dream-visualization">
                <video class="dream-video" autoplay loop muted playsinline>
                  <source src="assets/bulle_aile_grimoire.webm" type="video/webm">
                </video>
                <div class="dream-animation">
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                  <div class="dream-wave"></div>
                </div>
                <div class="play-button" data-dream="Envol céleste"></div>
              </div>
              
              <div class="dream-footer">
                <div class="dream-interactions">
                  <button class="interaction-button like-button">
                    <span>❤️</span>
                    <span>29</span>
                  </button>
                  <button class="interaction-button favorite-button">
                    <span>⭐</span>
                    <span>11</span>
                  </button>
                  <button class="interaction-button comment-button">
                    <span>💬</span>
                    <span>16</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          
          <div class="dream-cards-container" id="popular-dreams">
            <div class="dream-card-placeholder">
              Chargement des rêves populaires...
            </div>
          </div>
        </div>
      </div>
      
      <div class="pagination">
        <div class="page-dot active" data-index="0"></div>
        <div class="page-dot" data-index="1"></div>
        <div class="page-dot" data-index="2"></div>
        <div class="page-dot" data-index="3"></div>
        <div class="page-dot" data-index="4"></div>
      </div>
      
      <button class="refresh-button">
        <span>✨</span>
        <span>Actualiser</span>
      </button>
    </div>
    
    <!-- Player Modal -->
    <div class="player-modal" id="player-modal">
      <div class="player-content">
        <button class="close-button" id="close-button">×</button>
        <div class="player-title" id="player-title">Titre du rêve</div>
        
        <div class="player-visualization">
          <div class="player-animation">
            <div class="player-wave"></div>
            <div class="player-wave"></div>
            <div class="player-wave"></div>
          </div>
        </div>
        
        <div class="player-controls">
          <div class="player-time">0:00</div>
          <div class="player-timeline">
            <div class="player-progress"></div>
            <div class="player-progress-handle"></div>
          </div>
          <div class="player-time">2:34</div>
        </div>
        
        <div class="player-buttons">
          <div class="player-button play" id="player-play-button"></div>
        </div>
        
        <div class="player-audio-wave">
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
          <div class="audio-bar"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Créer les étoiles pour l'animation de fond avec GSAP
    const stars = document.querySelector('.stars');
    for (let i = 0; i < 70; i++) {
      const star = document.createElement('div');
      star.classList.add('star');
      
      // Variation de tailles d'étoiles
      const size = Math.random() * 3 + 1;
      star.style.width = size + 'px';
      star.style.height = size + 'px';
      star.style.left = Math.random() * 100 + '%';
      star.style.top = Math.random() * 100 + '%';
      
      // Animation GSAP pour plus de fluidité
      gsap.to(star, {
        opacity: Math.random() * 0.8 + 0.2,
        duration: Math.random() * 3 + 2,
        repeat: -1,
        yoyo: true,
        delay: Math.random() * 5
      });
      
      stars.appendChild(star);
    }

    // Créer les éléments flottants en arrière-plan
    const floatingElements = document.querySelector('.floating-elements');
    for (let i = 0; i < 15; i++) {
      const element = document.createElement('div');
      element.classList.add('floating-element');
      
      const size = Math.random() * 100 + 50;
      element.style.width = size + 'px';
      element.style.height = size + 'px';
      element.style.left = Math.random() * 100 + '%';
      element.style.opacity = Math.random() * 0.2 + 0.1;
      
      // Animation GSAP pour des mouvements plus organiques
      gsap.to(element, {
        y: -window.innerHeight * 1.5,
        x: Math.random() * 100 - 50,
        rotation: Math.random() * 360,
        duration: Math.random() * 30 + 20,
        ease: "power1.inOut",
        repeat: -1,
        delay: Math.random() * 10
      });
      
      floatingElements.appendChild(element);
    }

    // Animation des barres audio
    const audioBars = document.querySelectorAll('.audio-bar');
    audioBars.forEach((bar, index) => {
      gsap.to(bar, {
        height: () => Math.random() * 20 + 5,
        duration: 0.8,
        repeat: -1,
        yoyo: true,
        ease: "power1.inOut",
        delay: index * 0.05
      });
    });

    // Gestion des onglets avec animation
    const tabs = document.querySelectorAll('.tab');
    const dreamContainers = document.querySelectorAll('.dream-cards-container');
    
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        
        if (tab.id === 'tab-recent') {
          gsap.to(dreamContainers[0], { opacity: 1, duration: 0.5, display: 'block' });
          gsap.to(dreamContainers[1], { opacity: 0, duration: 0.5, display: 'none' });
          dreamContainers[0].classList.add('active');
          dreamContainers[1].classList.remove('active');
        } else if (tab.id === 'tab-popular') {
          gsap.to(dreamContainers[1], { opacity: 1, duration: 0.5, display: 'block' });
          gsap.to(dreamContainers[0], { opacity: 0, duration: 0.5, display: 'none' });
          dreamContainers[1].classList.add('active');
          dreamContainers[0].classList.remove('active');
          
          // Simuler le chargement des rêves populaires avec une animation élégante
          setTimeout(() => {
            dreamContainers[1].innerHTML = dreamContainers[0].innerHTML;
            
            // Animation d'apparition des cartes
            const cards = dreamContainers[1].querySelectorAll('.dream-card');
            gsap.fromTo(cards, 
              { opacity: 0, y: 20 },
              { opacity: 1, y: 0, duration: 0.5, stagger: 0.1 }
            );
            
            // Changer quelques valeurs pour simuler des rêves différents avec une animation des compteurs
            const likes = dreamContainers[1].querySelectorAll('.like-button span:last-child');
            likes.forEach(like => {
              const originalValue = parseInt(like.textContent);
              const targetValue = originalValue + Math.floor(Math.random() * 50);
              gsap.fromTo(like, 
                { textContent: originalValue },
                { 
                  textContent: targetValue,
                  duration: 1.5,
                  snap: { textContent: 1 }
                }
              );
            });
          }, 800);
        }
      });
    });

    // Carousel amélioré avec GSAP
    const carousel = document.querySelector('.carousel');
    const pageDots = document.querySelectorAll('.page-dot');
    const dreamCards = document.querySelectorAll('#recent-dreams .dream-card');
    let currentIndex = 0;
    
    // Configuration initiale: masquer toutes les cartes sauf la première
    gsap.set(dreamCards, { opacity: 0, display: 'none' });
    gsap.set(dreamCards[0], { opacity: 1, display: 'flex' });
    
    pageDots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        // Mise à jour des dots
        pageDots.forEach(d => d.classList.remove('active'));
        dot.classList.add('active');
        
        // Animation de transition entre les cartes
        gsap.to(dreamCards[currentIndex], { 
          opacity: 0, 
          duration: 0.3,
          onComplete: () => {
            gsap.set(dreamCards[currentIndex], { display: 'none' });
            currentIndex = index;
            gsap.set(dreamCards[currentIndex], { display: 'flex' });
            gsap.to(dreamCards[currentIndex], { opacity: 1, duration: 0.3 });
          }
        });
      });
    });

    // Fonctionnalité du lecteur de rêve
    const playButtons = document.querySelectorAll('.play-button');
    const playerModal = document.getElementById('player-modal');
    const playerTitle = document.getElementById('player-title');
    const closeButton = document.getElementById('close-button');
    const playerPlayButton = document.getElementById('player-play-button');
    
    playButtons.forEach(button => {
      button.addEventListener('click', () => {
        const dreamTitle = button.getAttribute('data-dream');
        playerTitle.textContent = dreamTitle;
        
        // Animation d'ouverture de la modale
        gsap.set(playerModal, { display: 'flex', opacity: 0 });
        gsap.to(playerModal, { 
          opacity: 1, 
          duration: 0.5,
          ease: "power2.inOut"
        });
        
        // Animation des barres audio dans le lecteur
        const audioBars = playerModal.querySelectorAll('.audio-bar');
        audioBars.forEach((bar, index) => {
          gsap.to(bar, {
            height: () => Math.random() * 20 + 5,
            duration: 0.8,
            repeat: -1,
            yoyo: true,
            ease: "power1.inOut",
            delay: index * 0.05
          });
        });
      });
    });
    
    closeButton.addEventListener('click', () => {
      // Animation de fermeture de la modale
      gsap.to(playerModal, { 
        opacity: 0, 
        duration: 0.3,
        onComplete: () => {
          gsap.set(playerModal, { display: 'none' });
        }
      });
    });
    
    // Toggle play/pause
    playerPlayButton.addEventListener('click', () => {
      playerPlayButton.classList.toggle('pause');
      
      if (playerPlayButton.classList.contains('pause')) {
        // État pause
        playerPlayButton.innerHTML = '';
        const beforeDiv = document.createElement('div');
        beforeDiv.style.width = '4px';
        beforeDiv.style.height = '16px';
        beforeDiv.style.background = 'white';
        beforeDiv.style.marginRight = '4px';
        beforeDiv.style.borderRadius = '2px';
        
        const afterDiv = document.createElement('div');
        afterDiv.style.width = '4px';
        afterDiv.style.height = '16px';
        afterDiv.style.background = 'white';
        afterDiv.style.marginLeft = '0px';
        afterDiv.style.borderRadius = '2px';
        
        playerPlayButton.appendChild(beforeDiv);
        playerPlayButton.appendChild(afterDiv);
      } else {
        // État play
        playerPlayButton.innerHTML = '';
        const triangle = document.createElement('div');
        triangle.style.width = '0';
        triangle.style.height = '0';
        triangle.style.borderStyle = 'solid';
        triangle.style.borderWidth = '10px 0 10px 15px';
        triangle.style.borderColor = 'transparent transparent transparent white';
        triangle.style.marginLeft = '4px';
        
        playerPlayButton.appendChild(triangle);
      }
    });
    
    // Animations pour le bouton d'actualisation
    const refreshButton = document.querySelector('.refresh-button');
    refreshButton.addEventListener('click', () => {
      // Animation du bouton
      gsap.to(refreshButton, { 
        scale: 0.95, 
        duration: 0.2,
        yoyo: true, 
        repeat: 1
      });
      
      // Animation de l'icône de rafraîchissement
      const refreshIcon = refreshButton.querySelector('span:first-child');
      gsap.to(refreshIcon, { 
        rotation: 360, 
        duration: 1, 
        ease: "power1.inOut" 
      });
      
      // Simuler le chargement de nouveaux rêves
      setTimeout(() => {
        // Animation de disparition et réapparition des cartes
        gsap.to(dreamCards, { 
          opacity: 0, 
          y: 20, 
          duration: 0.3,
          stagger: 0.1,
          onComplete: () => {
            // Réorganiser aléatoirement l'ordre des likes pour simuler de nouveaux rêves
            dreamCards.forEach(card => {
              const likes = card.querySelector('.like-button span:last-child');
              const newLikes = Math.floor(Math.random() * 40) + 5;
              likes.textContent = newLikes;
            });
            
            // Réapparition des cartes
            gsap.to(dreamCards, { 
              opacity: 1, 
              y: 0, 
              duration: 0.3, 
              stagger: 0.1 
            });
          }
        });
      }, 500);
    });

    // Fonction pour animer la progression du lecteur de rêve
    function animateProgress() {
      const progress = document.querySelector('.player-progress');
      const handle = document.querySelector('.player-progress-handle');
      const currentTime = document.querySelector('.player-time:first-child');
      
      let seconds = 0;
      let totalSeconds = 154; // 2:34 en secondes
      let width = 0;
      
      setInterval(() => {
        if (playerPlayButton.classList.contains('pause')) {
          seconds++;
          if (seconds > totalSeconds) seconds = 0;
          
          // Calculer la largeur en pourcentage
          width = (seconds / totalSeconds) * 100;
          
          // Mettre à jour la barre de progression
          progress.style.width = width + '%';
          handle.style.left = width + '%';
          
          // Formater et afficher le temps actuel
          const minutes = Math.floor(seconds / 60);
          const remainingSeconds = seconds % 60;
          currentTime.textContent = `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
        }
      }, 1000);
    }
    
    // Démarrer l'animation de progression
    animateProgress();

        // Activation navigation des orbes
        window.navigateOrbTo = function(element) {
            const orbItems = document.querySelectorAll('.orb-item');
            orbItems.forEach(item => item.classList.remove('active'));
            element.classList.add('active');

            element.querySelector('.orb-container').classList.add('orb-click');
            setTimeout(() => {
                element.querySelector('.orb-container').classList.remove('orb-click');
            }, 300);

            const section = element.dataset.section;
            console.log(`Navigation vers section : ${section}`);
        };

    
    // Ajout de l'interactivité à la timeline
    const timeline = document.querySelector('.player-timeline');
    timeline.addEventListener('click', (e) => {
      const rect = timeline.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const widthPercent = (x / rect.width) * 100;
      
      const progress = document.querySelector('.player-progress');
      const handle = document.querySelector('.player-progress-handle');
      
      progress.style.width = widthPercent + '%';
      handle.style.left = widthPercent + '%';
      
      // Calculer et mettre à jour le temps affiché
      const totalSeconds = 154; // 2:34 en secondes
      const newSeconds = Math.floor((widthPercent / 100) * totalSeconds);
      const minutes = Math.floor(newSeconds / 60);
      const remainingSeconds = newSeconds % 60;
      
      const currentTime = document.querySelector('.player-time:first-child');
      currentTime.textContent = `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
    });
    
  </script>
</body>
</html>
